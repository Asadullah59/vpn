---
layout: default
title: Pritunl - Enterprise Cloud Networking
---
  <section id="api" class="api section">
    <div class="container-fluid">
      <div class="api-title row">
        <h1 class="title">API Documentation</h1>
      </div>
      <div class="row">
        <div class="api-call-list-box col-md-3">
          <ul class="api-call-list">
            <li class="list-title">API Endpoints</li>
            <li><a href="#authentication">Authentication</a></li>
            <li><a href="#get-event-var">GET /event/:cursor</a></li>
            <li><a href="#get-status">GET /status</a></li>
            <li><a href="#get-log">GET /log</a></li>
            <li><a href="#get-auth">GET /auth</a></li>
            <li><a href="#put-auth">PUT /auth</a></li>
            <li><a href="#get-organization">GET /organization</a></li>
            <li><a href="#get-organization-var">GET /organization/:organization_id</a></li>
            <li><a href="#post-organization">POST /organization</a></li>
            <li><a href="#put-organization-var">PUT /organization/:organization_id</a></li>
            <li><a href="#delete-organization-var">DELETE /organization/:organization_id</a></li>
            <li><a href="#get-user-var">GET /user/:organization_id</a></li>
            <li><a href="#get-user-var-var">GET /user/:organization_id/:user_id</a></li>
            <li><a href="#post-user-var">POST /user/:organization_id</a></li>
            <li><a href="#put-user-var">PUT /user/:organization_id/:user_id</a></li>
            <li><a href="#delete-user-var">DELETE /user/:organization_id/:user_id</a></li>
            <li><a href="#put-user-var-otp-secret">PUT /user/:organization_id/:user_id/otp_secret</a></li>
            <li><a href="#get-key-var-tar">GET /key/:organization_id/:user_id.tar</a></li>
            <li><a href="#get-key-var">GET /key/:organization_id/:user_id</a></li>
            <li><a href="#get-server">GET /server</a></li>
            <li><a href="#get-server-var">GET /server/:server_id</a></li>
            <li><a href="#post-server">POST /server</a></li>
            <li><a href="#put-server-var">PUT /server/:server_id</a></li>
            <li><a href="#delete-server-var">DELETE /server/:server_id</a></li>
            <li><a href="#put-server-var-var">PUT /server/:server_id/:operation</a></li>
            <li><a href="#get-server-var-organization">GET /server/:server_id/organization</a></li>
            <li><a href="#put-server-var-organization-var">PUT /server/:server_id/organization/:organization_id</a></li>
            <li><a href="#delete-server-var-organization-var">DELETE /server/:server_id/organization/:organization_id</a></li>
            <li><a href="#get-server-var-output">GET /server/:server_id/output</a></li>
            <li><a href="#delete-server-var-output">DELETE /server/:server_id/output</a></li>
            <li><a href="#get-server-var-bandwidth">GET /server/:server_id/bandwidth</a></li>
            <li><a href="#get-export">GET /export/pritunl.tar</a></li>
          </ul>
        </div>
      </div>
      <div class="row">
        <div class="api-doc col-md-6 col-sm-12 col-xs-12 col-md-offset-3">
          <a id="authentication" class="anchor api-anchor"></a>
          <h2 class="api-header">Authentication</h2>
          <div class="api-description">
            <div class="text">
              All API requests must be signed with the API token and secret. Below is an example wrapper function to sign API requests. The API token and secret can be found by clicking Change Password in the web interface.
            </div>
            <table class="table">
              <thead>
                <tr>
                  <th colspan="2">Header Parameters</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Auth-Token</td>
                  <td>API token</td>
                </tr>
                <tr>
                  <td>Auth-Timestamp</td>
                  <td>Epoch timestamp must be accurate to +/-5 minutes of server time</td>
                </tr>
                <tr>
                  <td>Auth-Nonce</td>
                  <td>Random alphanumeric string of 32 characters must be unique for each request</td>
                </tr>
                <tr>
                  <td>Auth-Signature</td>
                  <td>Base64 digest of hash signing algorithm</td>
                </tr>
              </tbody>
            </table>
            <span class="editor-title">Python Example</span>
            <noscript>
              <div class="text">
                JavaScript is required to view example code
              </div>
            </noscript>
<div class="editor python">import requests, time, uuid, hmac, hashlib, base64
BASE_URL = 'https://localhost:9700'
API_TOKEN = 'iAfH2TnpB0oe2Pu6s0qHh2w2iLh27b6P'
API_SECRET = 'N4coHGtsZ2VIp0KdjfzZeULsiu4Ey8Lx'

def auth_request(method, path, headers=None, data=None):
    auth_timestamp = str(int(time.time()))
    auth_nonce = uuid.uuid4().hex
    auth_string = '&'.join([API_TOKEN, auth_timestamp, auth_nonce,
        method.upper(), path] + ([data] if data else []))
    auth_signature = base64.b64encode(hmac.new(
        API_SECRET, auth_string, hashlib.sha256).digest())
    auth_headers = {
        'Auth-Token': API_TOKEN,
        'Auth-Timestamp': auth_timestamp,
        'Auth-Nonce': auth_nonce,
        'Auth-Signature': auth_signature,
    }
    if headers:
        auth_headers.update(headers)
    return getattr(requests, method.lower())(
        BASE_URL + path,
        verify=False,
        headers=auth_headers,
        data=data,
    )</div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="api-doc col-md-6 col-sm-12 col-xs-12 col-md-offset-3">
          <a id="delete-auth-token-var" class="anchor api-anchor"></a>
          <h2 class="api-header">DELETE /auth/token/:auth_token</h2>
          <div class="api-description">
            <div class="text">
              Revoke an authentication token.
            </div>
            <table class="table">
              <thead>
                <tr>
                  <th colspan="2">URL Parameters</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>auth_token</td>
                  <td>Authentication token</td>
                </tr>
              </tbody>
            </table>
            <span class="editor-title">Python Example</span>
            <noscript>
              <div class="text">
                JavaScript is required to view example code
              </div>
            </noscript>
<div class="editor python">response = auth_request('DELETE',
  '/auth/token/264e30e7032b467bb0174b22bdb8ce13',
)
assert(response.status_code == 200)</div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="api-doc col-md-6 col-sm-12 col-xs-12 col-md-offset-3">
          <a id="get-event-var" class="anchor api-anchor"></a>
          <h2 class="api-header">GET /event/:cursor</h2>
          <div class="api-description">
            <div class="text">
              Long polling request that returns a list of events that have occurred sorted by creation. Events will only be sent once. Request will poll for up to 30 seconds. A list of events can be found in <pre>constants.py</pre>.
            </div>
            <table class="table">
              <thead>
                <tr>
                  <th colspan="2">URL Parameters</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>cursor</td>
                  <td>Optional id of last event. If left out only events that occurred after request is sent will be returned</td>
                </tr>
              </tbody>
            </table>
            <table class="table">
              <thead>
                <tr>
                  <th colspan="2">Response</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>id</td>
                  <td>Event ID</td>
                </tr>
                <tr>
                  <td>type</td>
                  <td>Event type</td>
                </tr>
                <tr>
                  <td>time</td>
                  <td>Event epoch time</td>
                </tr>
                <tr>
                  <td>resource_id</td>
                  <td>Event resource ID</td>
                </tr>
              </tbody>
            </table>
            <span class="editor-title">Python Example</span>
            <noscript>
              <div class="text">
                JavaScript is required to view example code
              </div>
            </noscript>
<div class="editor python">response = auth_request('GET',
  '/event',
)
assert(response.status_code == 200)
print response.json()
[
  {
      'id': 'd74a527af2ac44899b44b7b3dd9efdc7',
      'type': 'users_updated',
      'time': 1388495793,
      'resource_id': None,
  },
  {
      'id': '09b86897d4e44130b5fec95ca7101a5a',
      'type': 'server_organizations_updated',
      'time': 1388495805,
      'resource_id': '6551f49596ca42c4942cb71162916b69',
  },
]</div>
          </div>
        </div>
      </div>
    </div>
  </section>